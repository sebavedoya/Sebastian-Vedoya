---
/** Press.astro — seis notas originales + fade-in temprano (stage-item) */

const notas = [
  {
    medio: "La Tercera",
    titulo: "Operación Topógrafo — Espionaje del Ejército a denunciantes",
    url: "https://www.latercera.com/reportajes/noticia/operacion-topografo-espionaje-del-ejercito-cuatro-denunciantes-irregularidades/777342/",
    img: "/assets/prensa/topografo.jpg",
  },
  {
    medio: "Publimetro",
    titulo: "Ricardo Lagos: “Durante mi gobierno no privaticé nada, al contrario”",
    url: "https://www.publimetro.cl/cl/noticias/2016/11/18/ex-presidente-lagos-durante-mi-gobierno-no-privatice-nada-contrario.html",
    img: "/assets/prensa/lagos.jpg",
  },
  {
    medio: "Publimetro",
    titulo: "Sebastián Piñera: “Me siento orgulloso de lo que he logrado en la vida”",
    url: "https://www.publimetro.cl/cl/noticias/2017/06/19/sebastian-pinera-me-siento-orgulloso-lo-he-logrado-vida.html",
    img: "/assets/prensa/pinera.jpg",
  },
  {
    medio: "La Tercera",
    titulo: "Hernán Larraín: “No somos partidarios de indultar a violadores de DD.HH. ni asesinos en serie”",
    url: "https://www.latercera.com/nacional/noticia/hernan-larrain-ministro-justicia-derechos-humanos-no-somos-partidarios-indultar-violadores-dd-hh-asesinos-serie/111533/",
    img: "/assets/prensa/larrain.jpg",
  },
  {
    medio: "La Tercera",
    titulo: "La declaración de ‘Ramiro’ ante Carroza",
    url: "https://www.latercera.com/la-tercera-pm/noticia/la-declaracion-ramiro-carroza-estoy-seguro-estaba-privado-libertad-detencion-preventiva/792779/",
    img: "/assets/prensa/ramiro.jpg",
  },
  {
    medio: "La Tercera",
    titulo: "El Papa en La Araucanía: 'Mari Mari, peñi, lamngen'",
    url: "https://www.latercera.com/noticia/papa-la-araucania-mari-mari/",
    img: "/assets/prensa/papa.jpg",
  },
];

// Prefijo del sitio para GitHub Pages: "/" en dev y "/Sebastian-Vedoya" en producción
const BASE = (import.meta.env.BASE_URL || "/").replace(/\/+$/, "");
const srcFor = (p) => (/^https?:\/\//i.test(p) ? p : `${BASE}${p.startsWith("/") ? p : `/${p}`}`);
---

<section id="prensa" class="section">
  <div class="container">
    <h2 class="h2">Prensa</h2>
    <div class="grid cards">
      {notas.map((n) => (
        <a class="card press stage-item" href={n.url} target="_blank" rel="noopener">
          <figure class="thumb" style="aspect-ratio:16/9;overflow:hidden;border-radius:.6rem;margin-bottom:.5rem;background:#0f1720">
            <img
              src={srcFor(n.img)}
              alt={n.titulo}
              loading="lazy"
              style="width:100%;height:100%;object-fit:cover;display:block"
            />
          </figure>
          <div class="meta">
            <span class="tag" style="font-size:.85rem;color:#9fb0c4">{n.medio}</span>
            <h3 class="h3" style="margin:.25rem 0 0">{n.titulo}</h3>
          </div>
        </a>
      ))}
    </div>
  </div>
</section>