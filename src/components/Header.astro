---
/** Header con labels cortos y sin íconos */
const BASE = (import.meta.env.BASE_URL || "/").replace(/\/+$/, "");

const links = [
  { href: `${BASE}/#inicio`,       label: "Inicio" },
  { href: `${BASE}/#sistema`,      label: "Sistema" },
  { href: `${BASE}/#proyectos`,    label: "Proyectos" },
  { href: `${BASE}/#reflexiones`,  label: "Reflexiones" },
  { href: `${BASE}/#prensa`,       label: "Prensa" },
  { href: `${BASE}/#contacto`,     label: "Contacto" },
];
---

<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href={`${BASE}/#inicio`}>Sebastián Vedoya</a>

    <nav class="main-nav" id="siteNav" aria-label="Principal">
      {links.map(l => (
        <a href={l.href}>{l.label}</a>
      ))}
    </nav>

    <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="siteNav" aria-label="Abrir menú">
      ☰
    </button>
  </div>
</header>

<script is:inline>
  const btn = document.getElementById('navToggle');
  const nav = document.getElementById('siteNav');

  btn?.addEventListener('click', () => {
    const open = nav.classList.toggle('open');
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
  });

  // Cerrar el menú al hacer click en un enlace (en mobile)
  nav?.addEventListener('click', (e) => {
    const target = e.target;
    if (target && target.tagName === 'A') {
      nav.classList.remove('open');
      btn.setAttribute('aria-expanded', 'false');
    }
  });
</script>